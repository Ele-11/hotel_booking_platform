{"ast":null,"code":"","map":{"version":3,"names":[],"sources":["F:/hotel_booking_platform/apps/mobile/src/store/slices/hotelSlice.ts"],"sourcesContent":["// import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\n// export interface Hotel {\r\n//   id: string;\r\n//   name: string;\r\n//   nameEn: string;\r\n//   address: string;\r\n//   starRating: number;\r\n//   roomTypes: string[];\r\n//   price: number;\r\n//   openingTime: string;\r\n//   nearbyAttractions: string[];\r\n//   transportation: string[];\r\n//   shoppingMalls: string[];\r\n//   discountInfo?: {\r\n//     type: 'percentage' | 'fixed' | 'package';\r\n//     value: number;\r\n//     description: string;\r\n//     validUntil: string;\r\n//   };\r\n//   images: string[];\r\n//   tags: string[];\r\n//   latitude?: number;\r\n//   longitude?: number;\r\n// }\r\n\r\n// interface HotelState {\r\n//   hotels: Hotel[];\r\n//   currentHotel: Hotel | null;\r\n//   filteredHotels: Hotel[];\r\n//   isLoading: boolean;\r\n//   error: string | null;\r\n// }\r\n\r\n// const initialState: HotelState = {\r\n//   hotels: [],\r\n//   currentHotel: null,\r\n//   filteredHotels: [],\r\n//   isLoading: false,\r\n//   error: null,\r\n// };\r\n\r\n// // 模拟异步获取酒店列表\r\n// // 在实际项目中，这里会调用真实的API\r\n// export const fetchHotels = createAsyncThunk(\r\n//   'hotels/fetchHotels',\r\n//   async (searchParams: any) => {\r\n//     // 模拟API调用延迟\r\n//     await new Promise(resolve => setTimeout(resolve, 1000));\r\n    \r\n//     // 模拟酒店数据\r\n//     const mockHotels: Hotel[] = [\r\n//       {\r\n//         id: 'hotel001',\r\n//         name: '北京王府井希尔顿酒店',\r\n//         nameEn: 'Hilton Beijing Wangfujing',\r\n//         address: '北京市东城区王府井大街138号',\r\n//         starRating: 5,\r\n//         roomTypes: ['豪华大床房', '行政套房', '家庭套房'],\r\n//         price: 1200,\r\n//         openingTime: '2018-05-01',\r\n//         nearbyAttractions: ['故宫', '天安门广场', '王府井步行街'],\r\n//         transportation: ['地铁1号线王府井站', '机场快线'],\r\n//         shoppingMalls: ['王府井百货', 'APM购物中心'],\r\n//         discountInfo: {\r\n//           type: 'percentage',\r\n//           value: 0.8,\r\n//           description: '春节特惠8折',\r\n//           validUntil: '2026-02-28'\r\n//         },\r\n//         images: [\r\n//           'https://via.placeholder.com/400x300?text=希尔顿酒店',\r\n//           'https://via.placeholder.com/400x300?text=酒店大堂',\r\n//           'https://via.placeholder.com/400x300?text=豪华客房'\r\n//         ],\r\n//         tags: ['豪华', '商务', '市中心']\r\n//       },\r\n//       {\r\n//         id: 'hotel002',\r\n//         name: '北京香格里拉饭店',\r\n//         nameEn: 'Shangri-La Hotel Beijing',\r\n//         address: '北京市海淀区紫竹院路29号',\r\n//         starRating: 5,\r\n//         roomTypes: ['豪华双床房', '行政大床房', '总统套房'],\r\n//         price: 1500,\r\n//         openingTime: '2015-08-15',\r\n//         nearbyAttractions: ['颐和园', '圆明园', '北京大学'],\r\n//         transportation: ['地铁4号线人民大学站', '机场巴士'],\r\n//         shoppingMalls: ['当代商城', '双安商场'],\r\n//         discountInfo: {\r\n//           type: 'package',\r\n//           value: 200,\r\n//           description: '机票+酒店套餐减200元',\r\n//           validUntil: '2026-03-15'\r\n//         },\r\n//         images: [\r\n//           'https://via.placeholder.com/400x300?text=香格里拉酒店',\r\n//           'https://via.placeholder.com/400x300?text=花园景观',\r\n//           'https://via.placeholder.com/400x300?text=豪华套房'\r\n//         ],\r\n//         tags: ['豪华', '度假', '亲子']\r\n//       },\r\n//       {\r\n//         id: 'hotel003',\r\n//         name: '北京国贸大酒店',\r\n//         nameEn: 'China World Summit Wing Beijing',\r\n//         address: '北京市朝阳区建国门外大街1号',\r\n//         starRating: 5,\r\n//         roomTypes: ['豪华大床房', '商务套房', '景观房'],\r\n//         price: 1800,\r\n//         openingTime: '2019-03-20',\r\n//         nearbyAttractions: ['国贸商圈', '央视大楼', '世贸天阶'],\r\n//         transportation: ['地铁1号线国贸站', '地铁10号线'],\r\n//         shoppingMalls: ['国贸商城', 'SKP购物中心'],\r\n//         images: [\r\n//           'https://via.placeholder.com/400x300?text=国贸大酒店',\r\n//           'https://via.placeholder.com/400x300?text=城市景观',\r\n//           'https://via.placeholder.com/400x300?text=商务客房'\r\n//         ],\r\n//         tags: ['商务', '豪华', '市中心']\r\n//       }\r\n//     ];\r\n    \r\n//     return mockHotels;\r\n//   }\r\n// );\r\n\r\n// // 模拟异步获取单个酒店详情\r\n// export const fetchHotelById = createAsyncThunk(\r\n//   'hotels/fetchHotelById',\r\n//   async (hotelId: string) => {\r\n//     await new Promise(resolve => setTimeout(resolve, 500));\r\n    \r\n//     // 这里应该调用真实的API，暂时返回模拟数据\r\n//     const mockHotel = {\r\n//       id: hotelId,\r\n//       name: '北京王府井希尔顿酒店',\r\n//       nameEn: 'Hilton Beijing Wangfujing',\r\n//       address: '北京市东城区王府井大街138号',\r\n//       starRating: 5,\r\n//       roomTypes: ['豪华大床房', '行政套房', '家庭套房'],\r\n//       price: 1200,\r\n//       openingTime: '2018-05-01',\r\n//       nearbyAttractions: ['故宫', '天安门广场', '王府井步行街'],\r\n//       transportation: ['地铁1号线王府井站', '机场快线'],\r\n//       shoppingMalls: ['王府井百货', 'APM购物中心'],\r\n//       discountInfo: {\r\n//         type: 'percentage',\r\n//         value: 0.8,\r\n//         description: '春节特惠8折',\r\n//         validUntil: '2026-02-28'\r\n//       },\r\n//       images: [\r\n//         'https://via.placeholder.com/400x300?text=希尔顿酒店',\r\n//         'https://via.placeholder.com/400x300?text=酒店大堂',\r\n//         'https://via.placeholder.com/400x300?text=豪华客房'\r\n//       ],\r\n//       tags: ['豪华', '商务', '市中心']\r\n//     };\r\n    \r\n//     return mockHotel;\r\n//   }\r\n// );\r\n\r\n// const hotelSlice = createSlice({\r\n//   name: 'hotels',\r\n//   initialState,\r\n//   reducers: {\r\n//     setCurrentHotel: (state, action: PayloadAction<Hotel | null>) => {\r\n//       state.currentHotel = action.payload;\r\n//     },\r\n//     filterHotels: (state, action: PayloadAction<{\r\n//       starRating?: number[];\r\n//       priceRange?: [number, number];\r\n//       tags?: string[];\r\n//     }>) => {\r\n//       const { starRating, priceRange, tags } = action.payload;\r\n      \r\n//       state.filteredHotels = state.hotels.filter(hotel => {\r\n//         // 星级筛选\r\n//         if (starRating && starRating.length > 0 && !starRating.includes(hotel.starRating)) {\r\n//           return false;\r\n//         }\r\n        \r\n//         // 价格筛选\r\n//         if (priceRange && (hotel.price < priceRange[0] || hotel.price > priceRange[1])) {\r\n//           return false;\r\n//         }\r\n        \r\n//         // 标签筛选\r\n//         if (tags && tags.length > 0) {\r\n//           const hasMatchingTag = tags.some(tag => hotel.tags.includes(tag));\r\n//           if (!hasMatchingTag) return false;\r\n//         }\r\n        \r\n//         return true;\r\n//       });\r\n//     },\r\n//     clearFilter: (state) => {\r\n//       state.filteredHotels = state.hotels;\r\n//     }\r\n//   },\r\n//   extraReducers: (builder) => {\r\n//     builder\r\n//       .addCase(fetchHotels.pending, (state) => {\r\n//         state.isLoading = true;\r\n//         state.error = null;\r\n//       })\r\n//       .addCase(fetchHotels.fulfilled, (state, action) => {\r\n//         state.isLoading = false;\r\n//         state.hotels = action.payload;\r\n//         state.filteredHotels = action.payload;\r\n//       })\r\n//       .addCase(fetchHotels.rejected, (state, action) => {\r\n//         state.isLoading = false;\r\n//         state.error = action.error.message || '获取酒店列表失败';\r\n//       })\r\n//       .addCase(fetchHotelById.pending, (state) => {\r\n//         state.isLoading = true;\r\n//         state.error = null;\r\n//       })\r\n//       .addCase(fetchHotelById.fulfilled, (state, action) => {\r\n//         state.isLoading = false;\r\n//         state.currentHotel = action.payload;\r\n//       })\r\n//       .addCase(fetchHotelById.rejected, (state, action) => {\r\n//         state.isLoading = false;\r\n//         state.error = action.error.message || '获取酒店详情失败';\r\n//       });\r\n//   },\r\n// });\r\n\r\n// export const { setCurrentHotel, filterHotels, clearFilter } = hotelSlice.actions;\r\n\r\n// export default hotelSlice.reducer;"],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}