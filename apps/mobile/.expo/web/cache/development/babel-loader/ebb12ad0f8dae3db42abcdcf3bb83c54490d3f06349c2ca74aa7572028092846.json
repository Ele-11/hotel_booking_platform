{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nvar initialState = {\n  searchParams: {\n    location: '北京',\n    keyword: '',\n    checkInDate: '',\n    checkOutDate: '',\n    filters: {\n      starRating: [],\n      priceRange: [0, 5000],\n      tags: []\n    }\n  },\n  searchHistory: [],\n  isLoading: false,\n  error: null\n};\nvar hotelSearchSlice = createSlice({\n  name: 'hotelSearch',\n  initialState: initialState,\n  reducers: {\n    setLocation: function setLocation(state, action) {\n      state.searchParams.location = action.payload;\n    },\n    setKeyword: function setKeyword(state, action) {\n      state.searchParams.keyword = action.payload;\n    },\n    setCheckInDate: function setCheckInDate(state, action) {\n      state.searchParams.checkInDate = action.payload;\n    },\n    setCheckOutDate: function setCheckOutDate(state, action) {\n      state.searchParams.checkOutDate = action.payload;\n    },\n    toggleStarRating: function toggleStarRating(state, action) {\n      var star = action.payload;\n      var index = state.searchParams.filters.starRating.indexOf(star);\n      if (index >= 0) {\n        state.searchParams.filters.starRating.splice(index, 1);\n      } else {\n        state.searchParams.filters.starRating.push(star);\n      }\n    },\n    setPriceRange: function setPriceRange(state, action) {\n      state.searchParams.filters.priceRange = action.payload;\n    },\n    toggleTag: function toggleTag(state, action) {\n      var tag = action.payload;\n      var index = state.searchParams.filters.tags.indexOf(tag);\n      if (index >= 0) {\n        state.searchParams.filters.tags.splice(index, 1);\n      } else {\n        state.searchParams.filters.tags.push(tag);\n      }\n    },\n    setSearchParams: function setSearchParams(state, action) {\n      state.searchParams = action.payload;\n      state.searchHistory.unshift(action.payload);\n      if (state.searchHistory.length > 10) {\n        state.searchHistory.pop();\n      }\n    },\n    clearSearchParams: function clearSearchParams(state) {\n      state.searchParams = initialState.searchParams;\n    },\n    setLoading: function setLoading(state, action) {\n      state.isLoading = action.payload;\n    },\n    setError: function setError(state, action) {\n      state.error = action.payload;\n    }\n  }\n});\nvar _hotelSearchSlice$act = hotelSearchSlice.actions,\n  setLocation = _hotelSearchSlice$act.setLocation,\n  setKeyword = _hotelSearchSlice$act.setKeyword,\n  setCheckInDate = _hotelSearchSlice$act.setCheckInDate,\n  setCheckOutDate = _hotelSearchSlice$act.setCheckOutDate,\n  toggleStarRating = _hotelSearchSlice$act.toggleStarRating,\n  setPriceRange = _hotelSearchSlice$act.setPriceRange,\n  toggleTag = _hotelSearchSlice$act.toggleTag,\n  setSearchParams = _hotelSearchSlice$act.setSearchParams,\n  clearSearchParams = _hotelSearchSlice$act.clearSearchParams,\n  setLoading = _hotelSearchSlice$act.setLoading,\n  setError = _hotelSearchSlice$act.setError;\nexport { setLocation, setKeyword, setCheckInDate, setCheckOutDate, toggleStarRating, setPriceRange, toggleTag, setSearchParams, clearSearchParams, setLoading, setError };\nexport default hotelSearchSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","searchParams","location","keyword","checkInDate","checkOutDate","filters","starRating","priceRange","tags","searchHistory","isLoading","error","hotelSearchSlice","name","reducers","setLocation","state","action","payload","setKeyword","setCheckInDate","setCheckOutDate","toggleStarRating","star","index","indexOf","splice","push","setPriceRange","toggleTag","tag","setSearchParams","unshift","length","pop","clearSearchParams","setLoading","setError","_hotelSearchSlice$act","actions","reducer"],"sources":["F:/hotel_booking_platform/apps/mobile/src/store/slices/hotelSearchSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nexport interface SearchFilters {\r\n  starRating: number[];\r\n  priceRange: [number, number];\r\n  tags: string[];\r\n}\r\n\r\nexport interface SearchParams {\r\n  location: string;\r\n  keyword: string;\r\n  checkInDate: string;\r\n  checkOutDate: string;\r\n  filters: SearchFilters;\r\n}\r\n\r\ninterface HotelSearchState {\r\n  searchParams: SearchParams;\r\n  searchHistory: SearchParams[];\r\n  isLoading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nconst initialState: HotelSearchState = {\r\n  searchParams: {\r\n    location: '北京',\r\n    keyword: '',\r\n    checkInDate: '',\r\n    checkOutDate: '',\r\n    filters: {\r\n      starRating: [],\r\n      priceRange: [0, 5000],\r\n      tags: [],\r\n    },\r\n  },\r\n  searchHistory: [],\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nconst hotelSearchSlice = createSlice({\r\n  name: 'hotelSearch',\r\n  initialState,\r\n  reducers: {\r\n    setLocation: (state, action: PayloadAction<string>) => {\r\n      state.searchParams.location = action.payload;\r\n    },\r\n    setKeyword: (state, action: PayloadAction<string>) => {\r\n      state.searchParams.keyword = action.payload;\r\n    },\r\n    setCheckInDate: (state, action: PayloadAction<string>) => {\r\n      state.searchParams.checkInDate = action.payload;\r\n    },\r\n    setCheckOutDate: (state, action: PayloadAction<string>) => {\r\n      state.searchParams.checkOutDate = action.payload;\r\n    },\r\n    toggleStarRating: (state, action: PayloadAction<number>) => {\r\n      const star = action.payload;\r\n      const index = state.searchParams.filters.starRating.indexOf(star);\r\n      if (index >= 0) {\r\n        state.searchParams.filters.starRating.splice(index, 1);\r\n      } else {\r\n        state.searchParams.filters.starRating.push(star);\r\n      }\r\n    },\r\n    setPriceRange: (state, action: PayloadAction<[number, number]>) => {\r\n      state.searchParams.filters.priceRange = action.payload;\r\n    },\r\n    toggleTag: (state, action: PayloadAction<string>) => {\r\n      const tag = action.payload;\r\n      const index = state.searchParams.filters.tags.indexOf(tag);\r\n      if (index >= 0) {\r\n        state.searchParams.filters.tags.splice(index, 1);\r\n      } else {\r\n        state.searchParams.filters.tags.push(tag);\r\n      }\r\n    },\r\n    setSearchParams: (state, action: PayloadAction<SearchParams>) => {\r\n      state.searchParams = action.payload;\r\n      // 添加到搜索历史（最多保留10条）\r\n      state.searchHistory.unshift(action.payload);\r\n      if (state.searchHistory.length > 10) {\r\n        state.searchHistory.pop();\r\n      }\r\n    },\r\n    clearSearchParams: (state) => {\r\n      state.searchParams = initialState.searchParams;\r\n    },\r\n    setLoading: (state, action: PayloadAction<boolean>) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setError: (state, action: PayloadAction<string | null>) => {\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setLocation,\r\n  setKeyword,\r\n  setCheckInDate,\r\n  setCheckOutDate,\r\n  toggleStarRating,\r\n  setPriceRange,\r\n  toggleTag,\r\n  setSearchParams,\r\n  clearSearchParams,\r\n  setLoading,\r\n  setError,\r\n} = hotelSearchSlice.actions;\r\n\r\nexport default hotelSearchSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}