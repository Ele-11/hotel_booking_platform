{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Geolocation from '@react-native-community/geolocation';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport PermissionsAndroid from \"react-native-web/dist/exports/PermissionsAndroid\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport citiesRaw from 'china-division/dist/cities.json';\nimport provincesRaw from 'china-division/dist/provinces.json';\nimport Calendar_My from \"../../components/Calendar_My\";\nimport { styles, width } from \"./index.styles\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar provinceList = provincesRaw.map(function (p) {\n  return p.name;\n});\nvar cityMap = {};\nprovincesRaw.forEach(function (p) {\n  var matchedCities = citiesRaw.filter(function (c) {\n    return c.provinceCode === p.code;\n  }).map(function (c) {\n    return c.name;\n  });\n  cityMap[p.name] = matchedCities;\n});\nvar FILTER_DATA = {\n  prices: ['‰∏çÈôê', 'Ôø•0-150', 'Ôø•150-300', 'Ôø•300-600', 'Ôø•600-1000', 'Ôø•1000‰ª•‰∏ä'],\n  roomTypes: ['‰∏çÈôê', 'Â§ßÂ∫äÊàø', 'Âèå‰∫∫Âª∫Á≠ë', 'Âçï‰∫∫Â∫ä', '‰∏â‰∫∫Èó¥', 'Â•óÊàø']\n};\nvar BANNERS = [{\n  id: '1',\n  title: 'Êò•Â≠£ÁâπÊÉ†Ôºö‰∏â‰∫öÊµ∑ÊôØÊàø 5 ÊäòËµ∑',\n  uri: 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800'\n}, {\n  id: '2',\n  title: 'Ê∑±Â±±ÈÅøÊöëÔºöËé´Âπ≤Â±±Á≤æÂìÅÊ∞ëÂÆø',\n  uri: 'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=800'\n}, {\n  id: '3',\n  title: 'È≠îÈÉΩ‰πãÂ§úÔºö‰∏äÊµ∑Â§ñÊª©ÊôØËßÇÊàø',\n  uri: 'https://images.unsplash.com/photo-1506059612708-99d6c258160e?w=800'\n}, {\n  id: '4',\n  title: 'Âè§ÂüéÈüµÂë≥ÔºöÂ§ßÁêÜÊ¥±Êµ∑Èò≥ÂÖâÊàø',\n  uri: 'https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?w=800'\n}, {\n  id: '5',\n  title: '‰∫≤Â≠êÊó∂ÂÖâÔºöÈïøÈöÜ‰∏ªÈ¢òÈÖíÂ∫ó',\n  uri: 'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800'\n}];\nvar HomeScreen = function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var scrollRef = useRef(null);\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    activeIndex = _useState2[0],\n    setActiveIndex = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = useState('Âπø‰∏úÁúÅ'),\n    _useState6 = _slicedToArray(_useState5, 2),\n    province = _useState6[0],\n    setProvince = _useState6[1];\n  var _useState7 = useState('Áè†Êµ∑Â∏Ç'),\n    _useState8 = _slicedToArray(_useState7, 2),\n    city = _useState8[0],\n    setCity = _useState8[1];\n  var _useState9 = useState('Ôø•200-500'),\n    _useState0 = _slicedToArray(_useState9, 2),\n    price = _useState0[0],\n    setPrice = _useState0[1];\n  var _useState1 = useState('Â§ßÂ∫äÊàø'),\n    _useState10 = _slicedToArray(_useState1, 2),\n    roomType = _useState10[0],\n    setRoomType = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    searchKeyWordValue = _useState12[0],\n    setSearchKeyWordValue = _useState12[1];\n  var _useState13 = useState([]),\n    _useState14 = _slicedToArray(_useState13, 2),\n    selectedTags = _useState14[0],\n    setSelectedTags = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    calendarVisible = _useState16[0],\n    setCalendarVisible = _useState16[1];\n  var _useState17 = useState({\n      startDisplay: '05Êúà01Êó•',\n      startWeek: 'Âë®‰∏â',\n      startStr: '2024-05-01',\n      endDisplay: '05Êúà03Êó•',\n      endWeek: 'Âë®‰∫î',\n      endStr: '2024-05-03',\n      nights: 2\n    }),\n    _useState18 = _slicedToArray(_useState17, 2),\n    dateInfo = _useState18[0],\n    setDateInfo = _useState18[1];\n  var _useState19 = useState(false),\n    _useState20 = _slicedToArray(_useState19, 2),\n    modalVisible = _useState20[0],\n    setModalVisible = _useState20[1];\n  var _useState21 = useState('province'),\n    _useState22 = _slicedToArray(_useState21, 2),\n    pickingType = _useState22[0],\n    setPickingType = _useState22[1];\n  useEffect(function () {\n    var timer = setInterval(function () {\n      var _scrollRef$current;\n      var nextIndex = (activeIndex + 1) % BANNERS.length;\n      (_scrollRef$current = scrollRef.current) == null ? void 0 : _scrollRef$current.scrollTo({\n        x: nextIndex * width,\n        animated: true\n      });\n      setActiveIndex(nextIndex);\n    }, 2000);\n    return function () {\n      return clearInterval(timer);\n    };\n  }, [activeIndex]);\n  var handleScroll = function handleScroll(event) {\n    var x = event.nativeEvent.contentOffset.x;\n    var index = Math.round(x / width);\n    if (index !== activeIndex) setActiveIndex(index);\n  };\n  var handleLocationPress = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setIsLoading(true);\n      if (Platform.OS === 'android') {\n        var granted = yield PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION);\n        if (granted !== PermissionsAndroid.RESULTS.GRANTED) {\n          Alert.alert(\"ÊùÉÈôêÊãíÁªù\", \"ËØ∑ÂºÄÂêØÂÆö‰ΩçÊùÉÈôê\");\n          setIsLoading(false);\n          return;\n        }\n      }\n      Geolocation.getCurrentPosition(function () {\n        var _ref3 = _asyncToGenerator(function* (pos) {\n          try {\n            var AMAP_KEY = '‰Ω†ÁöÑÈ´òÂæ∑WebÊúçÂä°Key';\n            var url = \"https://restapi.amap.com/v3/geocode/regeo?location=\" + pos.coords.longitude + \",\" + pos.coords.latitude + \"&key=\" + AMAP_KEY;\n            var res = yield (yield fetch(url)).json();\n            if (res.status === '1') {\n              var comp = res.regeocode.addressComponent;\n              setProvince(comp.province);\n              setCity(typeof comp.city === 'string' ? comp.city : comp.province);\n            }\n          } catch (e) {\n            Alert.alert(\"ÁΩëÁªúÈîôËØØ\");\n          } finally {\n            setIsLoading(false);\n          }\n        });\n        return function (_x) {\n          return _ref3.apply(this, arguments);\n        };\n      }(), function () {\n        return setIsLoading(false);\n      }, {\n        timeout: 15000\n      });\n    });\n    return function handleLocationPress() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var openPicker = function openPicker(type) {\n    setPickingType(type);\n    setModalVisible(true);\n  };\n  var handleSelect = function handleSelect(item) {\n    if (pickingType === 'province') {\n      setProvince(item);\n      setCity(cityMap[item][0] || item);\n    } else if (pickingType === 'city') setCity(item);else if (pickingType === 'price') setPrice(item);else if (pickingType === 'roomType') setRoomType(item);\n    setModalVisible(false);\n  };\n  var getModalData = function getModalData() {\n    if (pickingType === 'province') return provinceList;\n    if (pickingType === 'city') return cityMap[province] || [];\n    if (pickingType === 'price') return FILTER_DATA.prices;\n    return FILTER_DATA.roomTypes;\n  };\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    bounces: false,\n    children: [_jsxs(View, {\n      style: styles.bannerContainer,\n      children: [_jsx(ScrollView, {\n        ref: scrollRef,\n        horizontal: true,\n        pagingEnabled: true,\n        showsHorizontalScrollIndicator: false,\n        onMomentumScrollEnd: handleScroll,\n        children: BANNERS.map(function (banner) {\n          return _jsxs(TouchableOpacity, {\n            activeOpacity: 0.9,\n            style: {\n              width: width,\n              height: 180\n            },\n            children: [_jsx(Image, {\n              source: {\n                uri: banner.uri\n              },\n              style: styles.bannerImage\n            }), _jsx(View, {\n              style: styles.bannerMask,\n              children: _jsx(Text, {\n                style: styles.bannerTitle,\n                children: banner.title\n              })\n            })]\n          }, banner.id);\n        })\n      }), _jsx(View, {\n        style: styles.pagination,\n        children: BANNERS.map(function (_, i) {\n          return _jsx(View, {\n            style: [styles.dot, activeIndex === i && styles.activeDot]\n          }, i);\n        })\n      })]\n    }), _jsxs(View, {\n      style: styles.searchCard,\n      children: [_jsxs(View, {\n        style: styles.locationRow,\n        children: [_jsxs(TouchableOpacity, {\n          style: styles.locationItem,\n          onPress: function onPress() {\n            return openPicker('province');\n          },\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"\\u7701\\u4EFD\"\n          }), _jsxs(Text, {\n            style: styles.searchValue,\n            children: [province, \" \\u25BE\"]\n          })]\n        }), _jsxs(TouchableOpacity, {\n          style: styles.locationItem,\n          onPress: function onPress() {\n            return openPicker('city');\n          },\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"\\u57CE\\u5E02\"\n          }), _jsxs(Text, {\n            style: styles.searchValue,\n            children: [city, \" \\u25BE\"]\n          })]\n        }), _jsxs(TouchableOpacity, {\n          style: styles.locationBtn,\n          onPress: handleLocationPress,\n          disabled: isLoading,\n          children: [_jsx(Text, {\n            style: styles.locationIcon,\n            children: \"\\uD83D\\uDCCD\"\n          }), _jsx(Text, {\n            style: styles.locationText,\n            children: isLoading ? 'ÂÆö‰Ωç‰∏≠' : 'ÊàëÁöÑ‰ΩçÁΩÆ'\n          })]\n        })]\n      }), _jsx(View, {\n        style: styles.divider\n      }), _jsxs(View, {\n        style: styles.searchItem,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"\\u4F4D\\u7F6E/\\u54C1\\u724C/\\u9152\\u5E97\"\n        }), _jsx(TextInput, {\n          placeholder: \"\\u641C\\u7D22\\u4F60\\u60F3\\u53BB\\u7684\\u5730\\u70B9\",\n          style: styles.searchInput,\n          value: searchKeyWordValue,\n          onChangeText: setSearchKeyWordValue\n        })]\n      }), _jsx(View, {\n        style: styles.divider\n      }), _jsxs(TouchableOpacity, {\n        style: styles.dateRow,\n        onPress: function onPress() {\n          return setCalendarVisible(true);\n        },\n        children: [_jsxs(View, {\n          style: {\n            flex: 1\n          },\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"\\u5165\\u4F4F\"\n          }), _jsxs(Text, {\n            style: styles.dateText,\n            children: [dateInfo.startDisplay, \" \", _jsx(Text, {\n              style: styles.weekText,\n              children: dateInfo.startWeek\n            })]\n          })]\n        }), _jsx(View, {\n          style: styles.nightBadge,\n          children: _jsxs(Text, {\n            style: styles.nightText,\n            children: [dateInfo.nights, \"\\u665A\"]\n          })\n        }), _jsxs(View, {\n          style: {\n            flex: 1,\n            alignItems: 'flex-end'\n          },\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"\\u79BB\\u5E97\"\n          }), _jsxs(Text, {\n            style: styles.dateText,\n            children: [dateInfo.endDisplay, \" \", _jsx(Text, {\n              style: styles.weekText,\n              children: dateInfo.endWeek\n            })]\n          })]\n        })]\n      }), _jsx(View, {\n        style: styles.divider\n      }), _jsxs(View, {\n        style: styles.locationRow,\n        children: [_jsxs(TouchableOpacity, {\n          style: styles.locationItem,\n          onPress: function onPress() {\n            return openPicker('price');\n          },\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"\\u4EF7\\u683C\"\n          }), _jsxs(Text, {\n            style: styles.searchValue,\n            children: [price, \" \\u25BE\"]\n          })]\n        }), _jsxs(TouchableOpacity, {\n          style: styles.locationItem,\n          onPress: function onPress() {\n            return openPicker('roomType');\n          },\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"\\u623F\\u578B\"\n          }), _jsxs(Text, {\n            style: styles.searchValue,\n            children: [roomType, \" \\u25BE\"]\n          })]\n        })]\n      }), _jsx(ScrollView, {\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        style: styles.tagScroll,\n        children: ['Ë±™ÂçéÈÖíÂ∫ó', 'ÂÖçË¥πÂÅúËΩ¶Âú∫', 'Âê´Êó©È§ê', 'ËøëÂú∞ÈìÅ', 'Ê∏©Ê≥âÈÖíÂ∫ó'].map(function (tag) {\n          return _jsx(TouchableOpacity, {\n            style: [styles.tagItem, selectedTags.includes(tag) && styles.tagItemActive],\n            onPress: function onPress() {\n              return setSelectedTags(function (prev) {\n                return prev.includes(tag) ? prev.filter(function (t) {\n                  return t !== tag;\n                }) : [].concat(_toConsumableArray(prev), [tag]);\n              });\n            },\n            children: _jsx(Text, {\n              style: [styles.tagText, selectedTags.includes(tag) && styles.tagTextActive],\n              children: tag\n            })\n          }, tag);\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.searchButton,\n        onPress: function onPress() {\n          return navigation.navigate('HotelList', {\n            city: city,\n            province: province,\n            price: price,\n            roomType: roomType,\n            startDate: dateInfo.startStr,\n            endDate: dateInfo.endStr\n          });\n        },\n        children: _jsx(Text, {\n          style: styles.searchButtonText,\n          children: \"\\u67E5\\u8BE2\\u9152\\u5E97\"\n        })\n      })]\n    }), _jsx(Modal, {\n      visible: modalVisible,\n      animationType: \"slide\",\n      transparent: true,\n      children: _jsx(View, {\n        style: styles.modalOverlay,\n        children: _jsxs(View, {\n          style: styles.modalContent,\n          children: [_jsxs(View, {\n            style: styles.modalHeader,\n            children: [_jsx(Text, {\n              style: styles.modalTitle,\n              children: \"\\u8BF7\\u9009\\u62E9\"\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return setModalVisible(false);\n              },\n              children: _jsx(Text, {\n                style: {\n                  color: '#999'\n                },\n                children: \"\\u53D6\\u6D88\"\n              })\n            })]\n          }), _jsx(FlatList, {\n            data: getModalData(),\n            keyExtractor: function keyExtractor(item) {\n              return item;\n            },\n            renderItem: function renderItem(_ref4) {\n              var item = _ref4.item;\n              return _jsx(TouchableOpacity, {\n                style: styles.modalItem,\n                onPress: function onPress() {\n                  return handleSelect(item);\n                },\n                children: _jsx(Text, {\n                  style: styles.modalItemText,\n                  children: item\n                })\n              });\n            }\n          })]\n        })\n      })\n    }), _jsx(Calendar_My, {\n      visible: calendarVisible,\n      onClose: function onClose() {\n        return setCalendarVisible(false);\n      },\n      onConfirm: function onConfirm(data) {\n        setDateInfo(data);\n        setCalendarVisible(false);\n      }\n    })]\n  });\n};\nexport default HomeScreen;","map":{"version":3,"names":["Geolocation","React","useEffect","useRef","useState","Alert","FlatList","Image","Modal","PermissionsAndroid","Platform","ScrollView","Text","TextInput","TouchableOpacity","View","citiesRaw","provincesRaw","Calendar_My","styles","width","jsx","_jsx","jsxs","_jsxs","provinceList","map","p","name","cityMap","forEach","matchedCities","filter","c","provinceCode","code","FILTER_DATA","prices","roomTypes","BANNERS","id","title","uri","HomeScreen","_ref","navigation","scrollRef","_useState","_useState2","_slicedToArray","activeIndex","setActiveIndex","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","province","setProvince","_useState7","_useState8","city","setCity","_useState9","_useState0","price","setPrice","_useState1","_useState10","roomType","setRoomType","_useState11","_useState12","searchKeyWordValue","setSearchKeyWordValue","_useState13","_useState14","selectedTags","setSelectedTags","_useState15","_useState16","calendarVisible","setCalendarVisible","_useState17","startDisplay","startWeek","startStr","endDisplay","endWeek","endStr","nights","_useState18","dateInfo","setDateInfo","_useState19","_useState20","modalVisible","setModalVisible","_useState21","_useState22","pickingType","setPickingType","timer","setInterval","_scrollRef$current","nextIndex","length","current","scrollTo","x","animated","clearInterval","handleScroll","event","nativeEvent","contentOffset","index","Math","round","handleLocationPress","_ref2","_asyncToGenerator","OS","granted","request","PERMISSIONS","ACCESS_FINE_LOCATION","RESULTS","GRANTED","alert","getCurrentPosition","_ref3","pos","AMAP_KEY","url","coords","longitude","latitude","res","fetch","json","status","comp","regeocode","addressComponent","e","_x","apply","arguments","timeout","openPicker","type","handleSelect","item","getModalData","style","container","bounces","children","bannerContainer","ref","horizontal","pagingEnabled","showsHorizontalScrollIndicator","onMomentumScrollEnd","banner","activeOpacity","height","source","bannerImage","bannerMask","bannerTitle","pagination","_","i","dot","activeDot","searchCard","locationRow","locationItem","onPress","label","searchValue","locationBtn","disabled","locationIcon","locationText","divider","searchItem","placeholder","searchInput","value","onChangeText","dateRow","flex","dateText","weekText","nightBadge","nightText","alignItems","tagScroll","tag","tagItem","includes","tagItemActive","prev","t","concat","_toConsumableArray","tagText","tagTextActive","searchButton","navigate","startDate","endDate","searchButtonText","visible","animationType","transparent","modalOverlay","modalContent","modalHeader","modalTitle","color","data","keyExtractor","renderItem","_ref4","modalItem","modalItemText","onClose","onConfirm"],"sources":["F:/hotel_booking_platform/apps/mobile/src/screens/Home/index.tsx"],"sourcesContent":["import Geolocation from '@react-native-community/geolocation';\r\nimport { NativeStackScreenProps } from '@react-navigation/native-stack';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n    Alert,\r\n    FlatList,\r\n    Image,\r\n    Modal,\r\n    PermissionsAndroid,\r\n    Platform,\r\n    ScrollView,\r\n    Text,\r\n    TextInput,\r\n    TouchableOpacity,\r\n    View\r\n} from 'react-native';\r\n\r\n// ÂØºÂÖ•Á¨¨‰∏âÊñπÊï∞ÊçÆÂåÖ\r\nimport citiesRaw from 'china-division/dist/cities.json';\r\nimport provincesRaw from 'china-division/dist/provinces.json';\r\n\r\nimport Calendar_My from '../../components/Calendar_My'; // Á°Æ‰øùË∑ØÂæÑÊ≠£Á°Æ\r\nimport { RootStackParamList } from '../../navigation/types';\r\n\r\n// import Calendar_My from '.../components/Calendar_My';\r\nimport { styles, width } from './index.styles';\r\n\r\n// --- Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜ ---\r\nconst provinceList = provincesRaw.map(p => p.name);\r\nconst cityMap: Record<string, string[]> = {};\r\nprovincesRaw.forEach(p => {\r\n    const matchedCities = citiesRaw.filter(c => c.provinceCode === p.code).map(c => c.name);\r\n    cityMap[p.name] = matchedCities;\r\n});\r\n\r\nconst FILTER_DATA = {\r\n    prices: ['‰∏çÈôê', 'Ôø•0-150', 'Ôø•150-300', 'Ôø•300-600', 'Ôø•600-1000', 'Ôø•1000‰ª•‰∏ä'],\r\n    roomTypes: ['‰∏çÈôê', 'Â§ßÂ∫äÊàø', 'Âèå‰∫∫Âª∫Á≠ë', 'Âçï‰∫∫Â∫ä', '‰∏â‰∫∫Èó¥', 'Â•óÊàø']\r\n};\r\n\r\nconst BANNERS = [\r\n    { id: '1', title: 'Êò•Â≠£ÁâπÊÉ†Ôºö‰∏â‰∫öÊµ∑ÊôØÊàø 5 ÊäòËµ∑', uri: 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800' },\r\n    { id: '2', title: 'Ê∑±Â±±ÈÅøÊöëÔºöËé´Âπ≤Â±±Á≤æÂìÅÊ∞ëÂÆø', uri: 'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=800' },\r\n    { id: '3', title: 'È≠îÈÉΩ‰πãÂ§úÔºö‰∏äÊµ∑Â§ñÊª©ÊôØËßÇÊàø', uri: 'https://images.unsplash.com/photo-1506059612708-99d6c258160e?w=800' },\r\n    { id: '4', title: 'Âè§ÂüéÈüµÂë≥ÔºöÂ§ßÁêÜÊ¥±Êµ∑Èò≥ÂÖâÊàø', uri: 'https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?w=800' },\r\n    { id: '5', title: '‰∫≤Â≠êÊó∂ÂÖâÔºöÈïøÈöÜ‰∏ªÈ¢òÈÖíÂ∫ó', uri: 'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800' },\r\n];\r\n\r\ntype Props = NativeStackScreenProps<RootStackParamList, 'Home'>;\r\n\r\nconst HomeScreen = ({ navigation }: Props) => {\r\n    // --- Áä∂ÊÄÅÁÆ°ÁêÜ ---\r\n    const scrollRef = useRef<ScrollView>(null);\r\n    const [activeIndex, setActiveIndex] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    // ÊêúÁ¥¢Ë°®ÂçïÁä∂ÊÄÅ\r\n    const [province, setProvince] = useState('Âπø‰∏úÁúÅ');\r\n    const [city, setCity] = useState('Áè†Êµ∑Â∏Ç');\r\n    const [price, setPrice] = useState('Ôø•200-500');\r\n    const [roomType, setRoomType] = useState('Â§ßÂ∫äÊàø');\r\n    const [searchKeyWordValue, setSearchKeyWordValue] = useState('');\r\n    const [selectedTags, setSelectedTags] = useState<string[]>([]);\r\n\r\n    // Êó•ÊúüÁä∂ÊÄÅ\r\n    const [calendarVisible, setCalendarVisible] = useState(false);\r\n    const [dateInfo, setDateInfo] = useState({\r\n        startDisplay: '05Êúà01Êó•',\r\n        startWeek: 'Âë®‰∏â',\r\n        startStr: '2024-05-01',\r\n        endDisplay: '05Êúà03Êó•',\r\n        endWeek: 'Âë®‰∫î',\r\n        endStr: '2024-05-03',\r\n        nights: 2\r\n    });\r\n\r\n    // ÈÄâÊã©Âô®ÊéßÂà∂\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [pickingType, setPickingType] = useState<'province' | 'city' | 'price' | 'roomType'>('province');\r\n\r\n    // --- 1. ËΩÆÊí≠ÂõæÈÄªËæë ---\r\n    useEffect(() => {\r\n        const timer = setInterval(() => {\r\n            let nextIndex = (activeIndex + 1) % BANNERS.length;\r\n            scrollRef.current?.scrollTo({ x: nextIndex * width, animated: true });\r\n            setActiveIndex(nextIndex);\r\n        }, 2000);\r\n        return () => clearInterval(timer);\r\n    }, [activeIndex]);\r\n\r\n    const handleScroll = (event: any) => {\r\n        const x = event.nativeEvent.contentOffset.x;\r\n        const index = Math.round(x / width);\r\n        if (index !== activeIndex) setActiveIndex(index);\r\n    };\r\n\r\n    // --- 2. ÂÆö‰ΩçÈÄªËæë ---\r\n    const handleLocationPress = async () => {\r\n        setIsLoading(true);\r\n        if (Platform.OS === 'android') {\r\n            const granted = await PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION);\r\n            if (granted !== PermissionsAndroid.RESULTS.GRANTED) {\r\n                Alert.alert(\"ÊùÉÈôêÊãíÁªù\", \"ËØ∑ÂºÄÂêØÂÆö‰ΩçÊùÉÈôê\");\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n        }\r\n        Geolocation.getCurrentPosition(async (pos) => {\r\n            try {\r\n                const AMAP_KEY = '‰Ω†ÁöÑÈ´òÂæ∑WebÊúçÂä°Key'; // ËÆ∞ÂæóÊõøÊç¢\r\n                const url = `https://restapi.amap.com/v3/geocode/regeo?location=${pos.coords.longitude},${pos.coords.latitude}&key=${AMAP_KEY}`;\r\n                const res = await (await fetch(url)).json();\r\n                if (res.status === '1') {\r\n                    const comp = res.regeocode.addressComponent;\r\n                    setProvince(comp.province);\r\n                    setCity(typeof comp.city === 'string' ? comp.city : comp.province);\r\n                }\r\n            } catch (e) { Alert.alert(\"ÁΩëÁªúÈîôËØØ\"); }\r\n            finally { setIsLoading(false); }\r\n        }, () => setIsLoading(false), { timeout: 15000 });\r\n    };\r\n\r\n    // --- 3. ÈÄâÊã©Âô®ÈÄªËæë ---\r\n    const openPicker = (type: typeof pickingType) => {\r\n        setPickingType(type);\r\n        setModalVisible(true);\r\n    };\r\n\r\n    const handleSelect = (item: string) => {\r\n        if (pickingType === 'province') {\r\n            setProvince(item);\r\n            setCity(cityMap[item][0] || item);\r\n        } else if (pickingType === 'city') setCity(item);\r\n        else if (pickingType === 'price') setPrice(item);\r\n        else if (pickingType === 'roomType') setRoomType(item);\r\n        setModalVisible(false);\r\n    };\r\n\r\n    const getModalData = () => {\r\n        if (pickingType === 'province') return provinceList;\r\n        if (pickingType === 'city') return cityMap[province] || [];\r\n        if (pickingType === 'price') return FILTER_DATA.prices;\r\n        return FILTER_DATA.roomTypes;\r\n    };\r\n\r\n    // --- Ê∏≤ÊüìÈÉ®ÂàÜ ---\r\n    return (\r\n        <ScrollView style={styles.container} bounces={false}>\r\n            {/* 1. ËΩÆÊí≠Âõæ */}\r\n            <View style={styles.bannerContainer}>\r\n                <ScrollView\r\n                    ref={scrollRef}\r\n                    horizontal pagingEnabled\r\n                    showsHorizontalScrollIndicator={false}\r\n                    onMomentumScrollEnd={handleScroll}\r\n                >\r\n                    {BANNERS.map((banner) => (\r\n                        <TouchableOpacity key={banner.id} activeOpacity={0.9} style={{ width, height: 180 }}>\r\n                            <Image source={{ uri: banner.uri }} style={styles.bannerImage} />\r\n                            <View style={styles.bannerMask}>\r\n                                <Text style={styles.bannerTitle}>{banner.title}</Text>\r\n                            </View>\r\n                        </TouchableOpacity>\r\n                    ))}\r\n                </ScrollView>\r\n                <View style={styles.pagination}>\r\n                    {BANNERS.map((_, i) => (\r\n                        <View key={i} style={[styles.dot, activeIndex === i && styles.activeDot]} />\r\n                    ))}\r\n                </View>\r\n            </View>\r\n\r\n            {/* 2. Êü•ËØ¢Âç°Áâá */}\r\n            <View style={styles.searchCard}>\r\n                {/* ÂüéÂ∏ÇÂÆö‰Ωç */}\r\n                <View style={styles.locationRow}>\r\n                    <TouchableOpacity style={styles.locationItem} onPress={() => openPicker('province')}>\r\n                        <Text style={styles.label}>ÁúÅ‰ªΩ</Text>\r\n                        <Text style={styles.searchValue}>{province} ‚ñæ</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.locationItem} onPress={() => openPicker('city')}>\r\n                        <Text style={styles.label}>ÂüéÂ∏Ç</Text>\r\n                        <Text style={styles.searchValue}>{city} ‚ñæ</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.locationBtn} onPress={handleLocationPress} disabled={isLoading}>\r\n                        <Text style={styles.locationIcon}>üìç</Text>\r\n                        <Text style={styles.locationText}>{isLoading ? 'ÂÆö‰Ωç‰∏≠' : 'ÊàëÁöÑ‰ΩçÁΩÆ'}</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n                <View style={styles.divider} />\r\n\r\n                {/* ÂÖ≥ÈîÆÂ≠ó */}\r\n                <View style={styles.searchItem}>\r\n                    <Text style={styles.label}>‰ΩçÁΩÆ/ÂìÅÁâå/ÈÖíÂ∫ó</Text>\r\n                    <TextInput\r\n                        placeholder=\"ÊêúÁ¥¢‰Ω†ÊÉ≥ÂéªÁöÑÂú∞ÁÇπ\"\r\n                        style={styles.searchInput}\r\n                        value={searchKeyWordValue}\r\n                        onChangeText={setSearchKeyWordValue}\r\n                    />\r\n                </View>\r\n\r\n                <View style={styles.divider} />\r\n\r\n                {/* Êó•ÊúüÈÄâÊã© */}\r\n                <TouchableOpacity style={styles.dateRow} onPress={() => setCalendarVisible(true)}>\r\n                    <View style={{ flex: 1 }}>\r\n                        <Text style={styles.label}>ÂÖ•‰Ωè</Text>\r\n                        <Text style={styles.dateText}>{dateInfo.startDisplay} <Text style={styles.weekText}>{dateInfo.startWeek}</Text></Text>\r\n                    </View>\r\n                    <View style={styles.nightBadge}><Text style={styles.nightText}>{dateInfo.nights}Êôö</Text></View>\r\n                    <View style={{ flex: 1, alignItems: 'flex-end' }}>\r\n                        <Text style={styles.label}>Á¶ªÂ∫ó</Text>\r\n                        <Text style={styles.dateText}>{dateInfo.endDisplay} <Text style={styles.weekText}>{dateInfo.endWeek}</Text></Text>\r\n                    </View>\r\n                </TouchableOpacity>\r\n\r\n                <View style={styles.divider} />\r\n\r\n                {/* ‰ª∑Ê†ºÊàøÂûã */}\r\n                <View style={styles.locationRow}>\r\n                    <TouchableOpacity style={styles.locationItem} onPress={() => openPicker('price')}>\r\n                        <Text style={styles.label}>‰ª∑Ê†º</Text>\r\n                        <Text style={styles.searchValue}>{price} ‚ñæ</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.locationItem} onPress={() => openPicker('roomType')}>\r\n                        <Text style={styles.label}>ÊàøÂûã</Text>\r\n                        <Text style={styles.searchValue}>{roomType} ‚ñæ</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n                {/* Ê†áÁ≠æ */}\r\n                <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.tagScroll}>\r\n                    {['Ë±™ÂçéÈÖíÂ∫ó', 'ÂÖçË¥πÂÅúËΩ¶Âú∫', 'Âê´Êó©È§ê', 'ËøëÂú∞ÈìÅ', 'Ê∏©Ê≥âÈÖíÂ∫ó'].map((tag) => (\r\n                        <TouchableOpacity\r\n                            key={tag}\r\n                            style={[styles.tagItem, selectedTags.includes(tag) && styles.tagItemActive]}\r\n                            onPress={() => setSelectedTags(prev => prev.includes(tag) ? prev.filter(t => t !== tag) : [...prev, tag])}\r\n                        >\r\n                            <Text style={[styles.tagText, selectedTags.includes(tag) && styles.tagTextActive]}>{tag}</Text>\r\n                        </TouchableOpacity>\r\n                    ))}\r\n                </ScrollView>\r\n\r\n                {/* Êü•ËØ¢ÊåâÈíÆ */}\r\n                <TouchableOpacity\r\n                    style={styles.searchButton}\r\n                    onPress={() => navigation.navigate('HotelList', {\r\n                        city, province, price, roomType,\r\n                        startDate: dateInfo.startStr, endDate: dateInfo.endStr\r\n                    })}\r\n                >\r\n                    <Text style={styles.searchButtonText}>Êü•ËØ¢ÈÖíÂ∫ó</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n\r\n            {/* ÈÄöÁî® Modal ÈÄâÊã©Âô® */}\r\n            <Modal visible={modalVisible} animationType=\"slide\" transparent={true}>\r\n                <View style={styles.modalOverlay}>\r\n                    <View style={styles.modalContent}>\r\n                        <View style={styles.modalHeader}>\r\n                            <Text style={styles.modalTitle}>ËØ∑ÈÄâÊã©</Text>\r\n                            <TouchableOpacity onPress={() => setModalVisible(false)}><Text style={{ color: '#999' }}>ÂèñÊ∂à</Text></TouchableOpacity>\r\n                        </View>\r\n                        <FlatList\r\n                            data={getModalData()}\r\n                            keyExtractor={(item) => item}\r\n                            renderItem={({ item }) => (\r\n                                <TouchableOpacity style={styles.modalItem} onPress={() => handleSelect(item)}>\r\n                                    <Text style={styles.modalItemText}>{item}</Text>\r\n                                </TouchableOpacity>\r\n                            )}\r\n                        />\r\n                    </View>\r\n                </View>\r\n            </Modal>\r\n\r\n            {/* Êó•ÂéÜÁªÑ‰ª∂ */}\r\n            <Calendar_My\r\n                visible={calendarVisible}\r\n                onClose={() => setCalendarVisible(false)}\r\n                onConfirm={(data) => { setDateInfo(data); setCalendarVisible(false); }}\r\n            />\r\n        </ScrollView>\r\n    );\r\n};\r\n\r\nexport default HomeScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}